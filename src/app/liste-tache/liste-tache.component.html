<!--

<div *ngFor="let user of Taches ;let i=index" class="list-group">
  <a  class="list-group-item list-group-item-action flex-column align-items-start active">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">{{user.idTache}}</h5>
      <h5 class="mb-1">{{user.date_debut}}</h5>
      <small>{{user.estimation}}</small>
      <small><button (click)="VersNewSousTache(user.idTache)">Ajouter</button></small>
    </div>

    <small>Donec id elit non mi porta.</small>
  </a>

  <a *ngFor="let soustache of user.tacheSousTaches; let j=index"  class="list-group-item list-group-item-action flex-column align-items-start">


      <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">{{soustache.nomSousTache}}</h5>
      <h5 class="mb-1">{{soustache.date_debut}}</h5>
      <small>{{soustache.estimation}}</small>
      <small><button (click)="OnDeleteSousTache(i,j,soustache)" >Supprimer</button></small>
        <small><button (click)="up(soustache.idSousTache,soustache)">up</button></small>
        <small><button (click)="down(soustache.idSousTache,soustache)">down</button></small>


      </div>
    <p class="mb-1">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
    <small class="text-muted">Donec id elit non mi porta.</small>


  </a>



</div>
-->



<nb-card size="large">
  <nb-card-body>
<mat-accordion>


  <mat-expansion-panel *ngFor="let tache of Taches ;let i=index;"   hideToggle="true">


    <mat-expansion-panel-header>
      <mat-panel-title>
        {{tache.nomTache}}
      </mat-panel-title>

      <mat-icon class="example-icon" (click)="upTache(tache.idTache,tache)">keyboard_arrow_up</mat-icon>
      <mat-icon class="example-icon" (click)="downTache(tache.idTache,tache)">keyboard_arrow_down</mat-icon>
      <mat-icon class="example-icon" routerLink="/Tache/{{idstg}}/{{tache.idTache}}">library_books</mat-icon>


      <mat-panel-description>
        {{tache.estimation}}
      </mat-panel-description>
     <!-- <i class="material-icons" (click)="VersNewSousTache(tache.idTache)"></i> -->
      <mat-icon class="example-icon" (click)="openDialog(tache)">add circle</mat-icon>
    </mat-expansion-panel-header>

    <mat-card  *ngFor="let soustache of SousTaches;"  [hidden]="tache.idTache!==soustache.tacheSousTache.idTache">
      <mat-card-header>

        <i mat-card-avatar class="material-icons"  *ngIf="soustache.etat===0"  (click)="enAttente(soustache.idSousTache,soustache)"  >
          pause
        </i>

        <i  mat-card-avatar class="material-icons"   *ngIf="soustache.etat===1"  (click)="enCours(soustache.idSousTache,soustache)" >play_circle_outline
        </i>

        <i  mat-card-avatar class="material-icons"  *ngIf="soustache.etat===2"  (click)="done(soustache.idSousTache,soustache)">
        check
        </i>


        <mat-card-title>{{soustache.nomSousTache}}</mat-card-title>

        <mat-icon class="example-icon"  (click)="OnDeleteSousTache(soustache)" >delete</mat-icon>
        <mat-icon class="example-icon"  (click)="up(soustache.idSousTache,soustache)">keyboard_arrow_up</mat-icon>
        <mat-icon class="example-icon" (click)="down(soustache.idSousTache,soustache)">keyboard_arrow_down</mat-icon>
        <mat-icon class="example-icon" routerLink="/sousTache/{{idstg}}/{{soustache.idSousTache}}">library_books</mat-icon>


      </mat-card-header>

     <!-- <mat-card-content>
        <p>
          {{soustache.date_debut}}
        </p>
      </mat-card-content>-->
      <mat-card-actions>


      </mat-card-actions>


    </mat-card>





    <!--
    <mat-form-field>
      <input matInput placeholder="First name">
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Age">
    </mat-form-field>
    <p>I'm visible because I am open</p>


-->
  </mat-expansion-panel>
</mat-accordion>
  </nb-card-body>
</nb-card>


<toaster-container [toasterconfig]="config"></toaster-container>
